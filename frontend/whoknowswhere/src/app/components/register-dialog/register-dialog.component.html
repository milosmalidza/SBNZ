<div class="register-dialog-component" [ngClass]="{'activated' : activated}">
    <div class="header-holder">
        <div *ngIf="!user" class="register-dialog-header">Register</div>
        <div *ngIf="user" class="register-dialog-header">Your Profile</div>
    </div>

    <div class="register-item p-4">
        Lorem ipsum dolor sit amet, consectetur adipiscing elit. Integer fermentum feugiat mauris ac consectetur. Etiam egestas, erat nec consectetur semper, 
        quam massa lacinia mi,
         in iaculis tortor lorem ac libero. Nam dignissim erat id tortor vulputate, 
         in mattis neque mollis. Donec posuere convallis risus, at sollicitudin dolor ornare a.
    </div>

    <form name="loginForm" #ncf="ngForm">
        <div class="p-4">
            <div class="form-holder row">

                <div class="input-holder d-flex align-items-center col-6" 
                    [ngClass]="{blurred : isBlurred(firstname), 
                    focused : isFocused(firstname) || 
                    !isEmpty(firstname)}">
                    <p class="input-text-value">First Name:</p>
                    <input type="text" class="input-styled" autocomplete="off"
                    (blur)="blurInput($event, firstname)" 
                    (focus)="focusInput($event, firstname)"
                        [(ngModel)]="registerDTO.firstname" name="firstname"
                        #firstname="ngModel" data-index="0">
                </div>

                <div class="input-holder d-flex align-items-center col-6" 
                    [ngClass]="{blurred : isBlurred(lastname), 
                    focused : isFocused(lastname) || 
                    !isEmpty(lastname)}">
                    <p class="input-text-value">Last Name:</p>
                    <input type="text" class="input-styled" autocomplete="off"
                    (blur)="blurInput($event, lastname)" 
                    (focus)="focusInput($event, lastname)"
                        [(ngModel)]="registerDTO.lastname" name="lastname"
                        #lastname="ngModel" data-index="1">
                </div>

                <div class="col-12 p-1"></div>

                <div class="input-holder d-flex align-items-center col-12" 
                    [ngClass]="{blurred : isBlurred(username), 
                    focused : isFocused(username) || 
                    !isEmpty(username)}">
                    <p class="input-text-value">Email:</p>
                    <input type="text" class="input-styled" autocomplete="off"
                    (blur)="blurInput($event, username)" 
                    (focus)="focusInput($event, username)"
                        [(ngModel)]="registerDTO.email" name="username"
                        #username="ngModel" data-index="2">
                </div>

                <div class="col-12 p-1"></div>

                <div *ngIf="!user" class="input-holder d-flex align-items-center col-6" 
                    [ngClass]="{blurred : isBlurred(password), 
                    focused : isFocused(password) || 
                    !isEmpty(password)}">
                    <p class="input-text-value">Password:</p>
                    <input type="text" class="input-styled" autocomplete="off"
                    (blur)="blurInput($event, password)" 
                    (focus)="focusInput($event, password)"
                        [(ngModel)]="registerDTO.password" name="password"
                        #password="ngModel" data-index="3">
                </div>

                <div *ngIf="!user" class="input-holder d-flex align-items-center col-6" 
                    [ngClass]="{blurred : isBlurred(confirmPassword), 
                    focused : isFocused(confirmPassword) || 
                    !isEmpty(confirmPassword)}">
                    <p class="input-text-value">Confirm password:</p>
                    <input type="text" class="input-styled" autocomplete="off"
                    (blur)="blurInput($event, confirmPassword)" 
                    (focus)="focusInput($event, confirmPassword)"
                        [(ngModel)]="registerDTO.confirmPassword" name="confirmPassword"
                        #confirmPassword="ngModel" data-index="4">
                </div>

                <div class="col-12 p-1"></div>
                <div class="col-12 p-1" style="font-size: 12px; font-weight: 600;">Please enter your date of birth</div>

                <div class="input-holder d-flex align-items-center col-4" 
                    [ngClass]="{blurred : isBlurred(day), 
                    focused : isFocused(day) || 
                    !isEmpty(day)}">
                    <p class="input-text-value">Day:</p>
                    <input type="text" class="input-styled" autocomplete="off"
                    (blur)="blurInput($event, day)" 
                    (focus)="focusInput($event, day)"
                        [(ngModel)]="birthDate.day" name="day"
                        #day="ngModel" data-index="5">
                </div>

                <div class="input-holder d-flex align-items-center col-4" 
                    [ngClass]="{blurred : isBlurred(month), 
                    focused : isFocused(month) || 
                    !isEmpty(month)}">
                    <p class="input-text-value">Month:</p>
                    <input type="text" class="input-styled" autocomplete="off"
                    (blur)="blurInput($event, month)" 
                    (focus)="focusInput($event, month)"
                        [(ngModel)]="birthDate.month" name="month"
                        #month="ngModel" data-index="6">
                </div>

                <div class="input-holder d-flex align-items-center col-4" 
                    [ngClass]="{blurred : isBlurred(year), 
                    focused : isFocused(year) || 
                    !isEmpty(year)}">
                    <p class="input-text-value">Year:</p>
                    <input type="text" class="input-styled" autocomplete="off"
                    (blur)="blurInput($event, year)" 
                    (focus)="focusInput($event, year)"
                        [(ngModel)]="birthDate.year" name="year"
                        #year="ngModel" data-index="7">
                </div>


                <div class="col-12 p-1"></div>

                <div class="select-holder col-12"
                    [ngClass]="{blurred : !selects.status.focused, 
                    focused : selects.status.focused || 
                    selects.status.value !== null}">

                    <p class="input-text-value">User Status:</p>
                    <ng-select class="custom"
                        (blur)="blurSelect($event, selects.status)" 
                        (focus)="focusSelect($event, selects.status)"
                        [(ngModel)]="selects.status.value" name="status"
                        #status="ngModel"
                        [searchable]="true"
                        [clearable]="false"
                        [items]="selects.status.items">
                    </ng-select>
                </div>

                <div class="col-12 p-1"></div>

                <div class="select-holder col-12"
                    [ngClass]="{blurred : !selects.motivation.focused, 
                    focused : selects.motivation.focused || 
                    selects.motivation.value !== null}">

                    <p class="input-text-value">Motivation:</p>
                    <ng-select class="custom"
                        (blur)="blurSelect($event, selects.motivation)" 
                        (focus)="focusSelect($event, selects.motivation)"
                        [(ngModel)]="selects.motivation.value" name="motivation"
                        #motivation="ngModel"
                        [searchable]="true"
                        [clearable]="false"
                        [items]="selects.motivation.items">
                    </ng-select>
                </div>

                <div class="col-12 p-1"></div>
                <div class="col-12 info-text">Please choose a place where you live</div>
                <div class="col-12 info-text" style="font-weight: 500;" *ngIf="isLocationPicked">Currently selected: {{selectedLocation.formatted}}</div>
                <div class="col-12 register-map-holder" style="height: 400px;">
                    <div class="map" id="register-map" class="match-parent"></div>
                </div>
                

                <div class="col-12 p-1"></div>

                <div *ngIf="!user" class="col-12 p-3 register-button" (click)="register()">
                    Register
                </div>
                <div *ngIf="user" class="col-12 p-3 register-button" (click)="changeProfile()">
                    Change Profile
                </div>

            </div>
        </div>
    </form>

</div>
